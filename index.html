<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aqua Brush</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;500&display=swap" rel="stylesheet">

<style>
body{
    margin:0;
    font-family:'Inter',sans-serif;
}

/* HEADER */
.header{
    position:fixed;
    top:0;
    width:100%;
    height:70px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:0 40px;
    backdrop-filter:blur(20px);
    background:rgba(255,255,255,0.75);
    z-index:100;
}

.lang{cursor:pointer;margin-left:15px}

/* STAGE */
.stage{
    height:100vh;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    text-align:center;
    padding-top:80px;
}

.stage img{
    width:420px;
    max-width:90vw;
    transition:.5s;
}

/* CONFIG */
.config{
    position:sticky;
    bottom:0;
    background:white;
    padding:24px 6vw;
    box-shadow:0 -10px 30px rgba(0,0,0,0.1);
}

.opts{display:flex;gap:12px;flex-wrap:wrap;margin-bottom:14px;}
.opt{
    border:1px solid #ddd;
    padding:12px 16px;
    border-radius:14px;
    cursor:pointer;
    background:#fafafa;
}
.opt.active{border:2px solid #000;background:white}

button{
    padding:16px 26px;
    border:none;
    border-radius:18px;
    background:black;
    color:white;
    cursor:pointer;
}

/* CART */
.cart{
    position:fixed;
    right:-420px;
    top:0;
    width:420px;
    height:100%;
    background:white;
    padding:30px;
    box-shadow:-20px 0 60px rgba(0,0,0,0.25);
    transition:.5s;
}
.cart.open{right:0}

.cart-item{display:flex;justify-content:space-between;margin-bottom:10px;}
.total{border-top:1px solid #eee;margin-top:15px;padding-top:10px}
</style>
</head>

<body>

<div class="header">
    <div>Aqua Brush</div>
    <div>
        <span class="lang" onclick="setLang('de')">DE</span>
        <span class="lang" onclick="setLang('en')">EN</span>
        <span style="cursor:pointer;margin-left:20px" onclick="toggleCart()">ðŸ›’</span>
    </div>
</div>

<section class="stage">
    <h1 id="title">Die Zukunft der Zahnpflege</h1>
    <p id="subtitle">Wasser. Feedback. Streaks.</p>
    <img id="product" src="darktech.png">
</section>

<div class="config">
    <div class="opts">
        <div class="opt active" data-model="darktech">Dark Tech</div>
        <div class="opt" data-model="heroz">Hero Z</div>
        <div class="opt" data-model="mintchart">Mint Chart</div>
        <div class="opt" data-model="bluechart">Blue Chart</div>
    </div>
    <button onclick="addBrush()" id="buyBtn">In den Warenkorb â€“ 79â‚¬</button>
</div>

<div class="cart" id="cart">
    <h2 id="cartTitle">Warenkorb</h2>
    <div id="items"></div>

    <div class="total">
        <div>Zwischensumme: <span id="subtotal">0â‚¬</span></div>
        <div>Versand: <span id="shipping">0â‚¬</span></div>
        <div>Steuer: <span id="tax">0â‚¬</span></div>
        <b>Gesamt: <span id="total">0â‚¬</span></b>
    </div>

    <button style="margin-top:20px;width:100%" onclick="checkout()">Stripe Checkout</button>
</div>

<script>

/* LANGUAGE */
const text={
de:{
title:"Die Zukunft der Zahnpflege",
subtitle:"Wasser. Feedback. Streaks.",
cart:"Warenkorb",
buy:"In den Warenkorb â€“ 79â‚¬"
},
en:{
title:"The future of dental care",
subtitle:"Water. Feedback. Streaks.",
cart:"Cart",
buy:"Add to cart â€“ â‚¬79"
}
};

function setLang(l){
    localStorage.lang=l;
    applyLang();
}
function applyLang(){
    const l=localStorage.lang||"de";
    document.getElementById("title").textContent=text[l].title;
    document.getElementById("subtitle").textContent=text[l].subtitle;
    document.getElementById("cartTitle").textContent=text[l].cart;
    document.getElementById("buyBtn").textContent=text[l].buy;
}
applyLang();

/* PRODUCT */
const images={
darktech:"darktech.png",
heroz:"heroz.png",
mintchart:"mintchart.png",
bluechart:"bluechart.png"
};

let selected=localStorage.model||"darktech";
document.getElementById("product").src=images[selected];

document.querySelectorAll(".opt").forEach(o=>{
    if(o.dataset.model===selected)o.classList.add("active");

    o.onclick=()=>{
        document.querySelectorAll(".opt").forEach(x=>x.classList.remove("active"));
        o.classList.add("active");
        selected=o.dataset.model;
        localStorage.model=selected;
        document.getElementById("product").src=images[selected];
    }
});

/* CART STORAGE */
let cart=JSON.parse(localStorage.cart||"[]");

function addBrush(){
    cart.push({name:"Brush "+selected,price:79});
    saveCart();
    toggleCart(true);
}

function saveCart(){
    localStorage.cart=JSON.stringify(cart);
    updateCart();
}

function updateCart(){
    let sub=0;
    const box=document.getElementById("items");
    box.innerHTML="";
    cart.forEach((i,idx)=>{
        sub+=i.price;
        box.innerHTML+=`
        <div class="cart-item">
            <span>${i.name}</span>
            <span>${i.price}â‚¬ <span style="cursor:pointer;color:red" onclick="removeItem(${idx})">âœ•</span></span>
        </div>`;
    });

    const shipping=sub?4.9:0;
    const tax=sub*0.19;
    const total=sub+shipping+tax;

    document.getElementById("subtotal").textContent=sub.toFixed(2)+"â‚¬";
    document.getElementById("shipping").textContent=shipping.toFixed(2)+"â‚¬";
    document.getElementById("tax").textContent=tax.toFixed(2)+"â‚¬";
    document.getElementById("total").textContent=total.toFixed(2)+"â‚¬";
}

function removeItem(i){
    cart.splice(i,1);
    saveCart();
}

updateCart();

/* CART PANEL */
function toggleCart(force){
    const c=document.getElementById("cart");
    if(force)c.classList.add("open");
    else c.classList.toggle("open");
}

/* STRIPE DEMO */
function checkout(){
    alert("Hier wÃ¼rdest du Stripe integrieren.\\n\\nIch kann dir den echten Stripe-Code bauen, wenn du willst.");
}

</script>

</body>
</html>
