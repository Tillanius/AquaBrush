<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aqua Brush</title>

<style>
body{
margin:0;
font-family:-apple-system,BlinkMacSystemFont,"SF Pro",Arial,sans-serif;
background:#f5f5f7;
color:#111;
overflow-x:hidden;
}

/* ===== NAV ===== */
nav{
background:#fff;
padding:18px 5vw;
display:flex;
justify-content:space-between;
align-items:center;
border-bottom:1px solid #eee;
position:sticky;
top:0;
z-index:50;
}

.logo{font-weight:300;font-size:22px}

/* ===== CART DROPDOWN ===== */
.cartWrap{position:relative}
.cartBtn{
cursor:pointer;
background:#111;
color:#fff;
padding:10px 18px;
border-radius:999px;
}

.cartDropdown{
position:absolute;
right:0;
top:50px;
width:320px;
background:#fff;
border-radius:22px;
box-shadow:0 30px 80px rgba(0,0,0,.25);
padding:20px;
display:none;
max-height:420px;
overflow:auto;
}
.cartDropdown.show{display:block}

.cartRow{
display:grid;
grid-template-columns:1fr auto auto auto;
gap:10px;
align-items:center;
padding:10px 0;
border-bottom:1px solid #eee;
font-size:14px;
}
.qty button{
border:none;
background:#eee;
padding:4px 8px;
border-radius:6px;
cursor:pointer;
}
.total{
margin-top:10px;
font-weight:600;
}

/* ===== STORE GRID ===== */
.products{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
gap:30px;
padding:50px 6vw;
max-width:1300px;
margin:auto;
}
.card{
background:#fff;
padding:32px;
border-radius:26px;
text-align:center;
cursor:pointer;
transition:.45s;
box-shadow:0 8px 30px rgba(0,0,0,0.05);
}
.card:hover{
transform:translateY(-10px);
box-shadow:0 30px 70px rgba(0,0,0,0.12);
}
.card img{
width:100%;
height:240px;
object-fit:contain;
}

/* ===== PRODUCT OVERLAY ===== */
.productPage{
position:fixed;
inset:0;
background:rgba(0,0,0,0.45);
display:flex;
justify-content:center;
align-items:center;
opacity:0;
pointer-events:none;
transition:.4s;
z-index:60;
}
.productPage.show{opacity:1;pointer-events:auto}

/* BOX */
.productBox{
background:#fff;
width:min(1100px,92%);
height:min(90vh,780px);
border-radius:30px;
display:grid;
grid-template-columns:1fr 1fr;
overflow:hidden;
box-shadow:0 40px 90px rgba(0,0,0,.35);
}

/* IMAGE */
.productImg{
background:#f6f6f8;
display:flex;
align-items:center;
justify-content:center;
padding:40px;
}
.productImg img{
width:100%;
max-height:420px;
object-fit:contain;
}

/* CONTENT */
.productContent{
padding:50px;
overflow-y:auto;
}
.productContent p{
white-space:pre-line;
color:#555;
line-height:1.6;
}

/* COLORS */
.colors{display:flex;gap:10px;margin:20px 0;flex-wrap:wrap}
.color{
padding:10px 16px;
border-radius:999px;
border:1px solid #ddd;
cursor:pointer;
}
.color.active{background:#111;color:#fff;border-color:#111}

.btn{
background:#111;
color:#fff;
padding:16px 26px;
border:none;
border-radius:999px;
cursor:pointer;
margin-top:20px;
}

/* CLOSE */
.close{
position:absolute;
top:22px;
right:32px;
font-size:30px;
cursor:pointer;
color:white;
}

/* ===== MOBILE ===== */
@media(max-width:900px){
.productBox{
grid-template-columns:1fr;
height:min(92vh,900px);
}
.productImg{padding:20px}
.productContent{padding:30px}
}
</style>
</head>

<body>

<nav>
<div class="logo">Aqua Brush</div>

<div class="cartWrap">
<div class="cartBtn" onclick="toggleCart()">Warenkorb</div>

<div class="cartDropdown" id="cartDropdown">
<div id="cartItems">Warenkorb leer</div>
<div class="total" id="cartTotal"></div>
</div>
</div>
</nav>

<section class="products">
<div class="card" onclick="openProduct('brush')">
<img src="darktech.png"><h3>Zahnbürste</h3><p>ab 79€</p>
</div>

<div class="card" onclick="openProduct('box')">
<img src="box.png"><h3>Station</h3><p>99€</p>
</div>

<div class="card" onclick="openProduct('bundle')">
<img src="bundle-darktech.png"><h3>Bundle</h3><p>149€</p>
</div>
</section>

<!-- PRODUCT OVERLAY -->
<div class="productPage" id="productPage" onclick="bgClose(event)">
<div class="close" onclick="closeProduct()">×</div>

<div class="productBox">
<div class="productImg">
<img id="pImg">
</div>

<div class="productContent">
<h2 id="pTitle"></h2>
<h3 id="pPrice"></h3>
<p id="pDesc"></p>
<div id="config"></div>
<button class="btn" onclick="addToCart()">In den Warenkorb</button>
</div>
</div>
</div>

<script>

/* ===== PRODUKTDATEN ===== */
const data={

brush:{
title:"Aqua Brush",
base:79,
colors:{
"Dark Tech":{img:"darktech.png",price:0},
"Hero Z":{img:"heroz.png",price:10},
"Mint Chart":{img:"mintchart.png",price:10},
"Blue Chart":{img:"bluechart.png",price:10}
},
desc:`Diese elektrische Zahnbürste verbindet minimalistisches Design mit moderner Technologie.

Der ergonomische Griff liegt angenehm in der Hand, während der präzise Bürstenkopf Plaque effektiv entfernt und gleichzeitig schonend zum Zahnfleisch bleibt.

Das integrierte Display zeigt wichtige Informationen wie Modus und Status direkt an der Bürste.

Entwickelt wurde sie speziell für die Verbindung mit der Station, wodurch zusätzliche Funktionen möglich sind – sie bleibt jedoch auch alleine eine leistungsstarke Premium-Zahnbürste.

Perfekt für alle, die Wert auf saubere Zähne, modernes Design und ein durchdachtes Produkt legen.`
},

box:{
title:"Station",
price:99,
img:"box.png",
desc:`Die Station ist das Herzstück des Systems.

Sie wurde entwickelt, um deine Zahnbürste zu laden, zu organisieren und ihre Funktionen zu erweitern.

Durch das minimalistische Design passt sie perfekt in moderne Badezimmer.

Ideal für alle, die aus einer Zahnbürste ein echtes Smart-Care-System machen möchten.`
},

/* ✅ BUNDLE ERGÄNZT MIT FARBEN */
bundle:{
title:"Bundle",
base:149,
colors:{
"Dark Tech":{img:"bundle-darktech.png",price:0},
"Hero Z":{img:"bundle-heroz.png",price:0},
"Mint Chart":{img:"bundle-mintchart.png",price:0},
"Blue Chart":{img:"bundle-bluechart.png",price:0}
},
desc:`Mit dem Bundle bekommst du das komplette System in einem Paket.

Zahnbürste und Station sind perfekt aufeinander abgestimmt und bieten zusammen das volle Funktionsspektrum.

Perfekt für alle, die direkt das vollständige Erlebnis wollen.`
}
};

let cart=[];
let currentType=null;
let currentColor=null;
let currentPrice=0;

/* ===== PRODUCT ===== */
function openProduct(type){
currentType=type;
const p=data[type];
productPage.classList.add("show");
pTitle.innerText=p.title;
pDesc.innerText=p.desc;

/* ✅ BRUSH + BUNDLE benutzen jetzt Farben */
if(p.colors){
const first=Object.keys(p.colors)[0];
setColor(first,true);

config.innerHTML=`<div class="colors">${
Object.keys(p.colors).map((c,i)=>
`<div class="color ${i==0?"active":""}" onclick="setColor('${c}')">${c}</div>`
).join("")}</div>`;
}
else{
pImg.src=p.img;
currentPrice=p.price;
pPrice.innerText=currentPrice+"€";
config.innerHTML="";
}
}

/* ✅ FUNKTION FUNKTIONIERT JETZT FÜR BEIDE */
function setColor(name,first=false){
const p=data[currentType];
currentColor=name;
currentPrice=p.base+p.colors[name].price;
pImg.src=p.colors[name].img;
pPrice.innerText=currentPrice+"€";

if(!first){
document.querySelectorAll(".color").forEach(el=>el.classList.remove("active"));
event.target.classList.add("active");
}
}

/* ===== CART ===== */
function addToCart(){
let label=data[currentType].title;
if(currentColor) label+=" ("+currentColor+")";

const ex=cart.find(i=>i.label===label);
if(ex) ex.qty++;
else cart.push({label,price:currentPrice,qty:1});

renderCart();
closeProduct();
}

function renderCart(){
if(cart.length===0){
cartItems.innerText="Warenkorb leer";
cartTotal.innerText="";
return;
}

cartItems.innerHTML=cart.map((i,idx)=>`
<div class="cartRow">
<div>${i.label}</div>
<div class="qty">
<button onclick="changeQty(${idx},-1)">−</button>
${i.qty}
<button onclick="changeQty(${idx},1)">+</button>
</div>
<div>${i.price*i.qty}€</div>
<div onclick="removeItem(${idx})" style="cursor:pointer">✕</div>
</div>
`).join("");

cartTotal.innerText="Summe: "+
cart.reduce((s,i)=>s+i.price*i.qty,0)+"€";
}

function changeQty(i,d){cart[i].qty+=d;if(cart[i].qty<=0)cart.splice(i,1);renderCart();}
function removeItem(i){cart.splice(i,1);renderCart();}

/* ===== UI ===== */
function toggleCart(){cartDropdown.classList.toggle("show")}
function closeProduct(){productPage.classList.remove("show")}
function bgClose(e){if(e.target.id==="productPage")closeProduct()}

</script>

</body>
</html>
